{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function getImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PARAMS = new URLSearchParams({\n    key: '43999869-2222e4e6c4d0611e5b13cb64c',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${PARAMS}`;\n  const loader = document.querySelector('.loader');\n\n  loader.style.display = 'block';\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        iziToast.error({\n          title: `Error: ${res.status}`,\n          message: 'Something happened :(',\n          position: 'topRight',\n        });\n      }\n\n      return res.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n\n      return data.hits;\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n","export function createTemplate(query) {\n  let imagesArr = '';\n\n  query.map(elem => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      views,\n      downloads,\n      likes,\n      comments,\n    } = elem;\n\n    imagesArr += `<div class=\"item-gallery\">\n                <a href=\"${largeImageURL}\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\">\n                </a>\n                <div class=\"item-info\">\n                    <div class=\"item-info-content\">\n                        <p>Likes</p>\n                        <p>${likes}</p>\n                    </div>\n                    <div class=\"item-info-content\">\n                        <p>Views</p>\n                        <p>${views}</p>\n                    </div>\n                    <div class=\"item-info-content\">\n                        <p>Comments</p>\n                        <p>${comments}</p>\n                    </div>\n                    <div class=\"item-info-content\">\n                        <p>Downloads</p>\n                        <p>${downloads}</p>\n                    </div>\n                </div>\n            </div>`;\n  });\n\n  return imagesArr;\n}\n","import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './js/pixabay-api';\nimport { createTemplate } from './js/render-functions';\n\nconst refs = {\n  formSearch: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n};\nconst optionsModal = {\n  captionsData: 'alt',\n  captionDelay: 250,\n  className: 'js-backdrop',\n};\nconst lightbox = new simpleLightbox('.gallery a', optionsModal);\n\nrefs.formSearch.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchValue = e.target.elements.search.value.trim();\n\n  if (!searchValue) return;\n\n  refs.gallery.innerHTML = '';\n\n  getImages(searchValue).then(data => {\n    renderTemplate(data);\n    lightbox.refresh();\n  });\n\n  e.target.reset();\n});\n\nfunction renderTemplate(query) {\n  const markup = createTemplate(query);\n\n  refs.gallery.insertAdjacentHTML('afterbegin', markup);\n}\n"],"names":["getImages","query","BASE_URL","PARAMS","url","loader","res","iziToast","data","createTemplate","imagesArr","elem","webformatURL","largeImageURL","tags","views","downloads","likes","comments","refs","optionsModal","lightbox","simpleLightbox","e","searchValue","renderTemplate","markup"],"mappings":"6vBAGO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAC3BE,EAAS,SAAS,cAAc,SAAS,EAE/C,OAAAA,EAAO,MAAM,QAAU,QAEhB,MAAMD,CAAG,EACb,KAAKE,IACCA,EAAI,IACPC,EAAS,MAAM,CACb,MAAO,UAAUD,EAAI,MAAM,GAC3B,QAAS,wBACT,SAAU,UACpB,CAAS,EAGIA,EAAI,OACZ,EACA,KAAKE,IACCA,EAAK,KAAK,QACbD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAGIC,EAAK,KACb,EACA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CC3CO,SAASI,EAAeR,EAAO,CACpC,IAAIS,EAAY,GAEhB,OAAAT,EAAM,IAAIU,GAAQ,CAChB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,CACD,EAAGP,EAEJD,GAAa;AAAA,2BACUG,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAK7BG,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILF,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILG,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRF,CAAS;AAAA;AAAA;AAAA,mBAItC,CAAG,EAEMN,CACT,CCnCA,MAAMS,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,QAAS,SAAS,cAAc,UAAU,CAC5C,EACMC,EAAe,CACnB,aAAc,MACd,aAAc,IACd,UAAW,aACb,EACMC,EAAW,IAAIC,EAAe,aAAcF,CAAY,EAE9DD,EAAK,WAAW,iBAAiB,SAAUI,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMC,EAAcD,EAAE,OAAO,SAAS,OAAO,MAAM,OAE9CC,IAELL,EAAK,QAAQ,UAAY,GAEzBnB,EAAUwB,CAAW,EAAE,KAAKhB,GAAQ,CAClCiB,EAAejB,CAAI,EACnBa,EAAS,QAAO,CACpB,CAAG,EAEDE,EAAE,OAAO,QACX,CAAC,EAED,SAASE,EAAexB,EAAO,CAC7B,MAAMyB,EAASjB,EAAeR,CAAK,EAEnCkB,EAAK,QAAQ,mBAAmB,aAAcO,CAAM,CACtD"}